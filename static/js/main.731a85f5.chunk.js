(this["webpackJsonpdag-3d"]=this["webpackJsonpdag-3d"]||[]).push([[0],{32:function(e,t,n){e.exports=n.p+"static/media/kafka.78638322.svg"},36:function(e,t,n){e.exports=n(73)},41:function(e,t,n){},42:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(11),c=n.n(o),i=(n(41),n(2)),s=n(4),u=(n(42),n(5)),l=n(3),m=n(15),d=n(1),h=n(7),f=function(e){var t=e.prefix,n=e.curve,o=e.elapsed,c=e.messages,i=e.duration,s=Object(r.useMemo)((function(){return(c||[]).map((function(e){return{key:e.messageKey,position:n.getPointAt(Math.max(0,Math.min(1,(o-e.frame)/i))),color:"1"===e.messageKey[0]?"#4070f0":"2"===e.messageKey[0]?"#f07040":"#70f040"}}))}),[o,c,n,i]);return a.a.createElement(a.a.Fragment,null,s.map((function(e,n){return a.a.createElement("mesh",{key:t+n,position:e.position},a.a.createElement("sphereGeometry",{attach:"geometry",args:[.076]}),a.a.createElement("meshPhongMaterial",{attach:"material",color:e.color}))})))};var p=function(e){var t=e.fromNode,n=e.toNode,o=e.messages,c=e.points,s=e.duration,l=e.elapsed,p=e.onEgress,g=Object(r.useCallback)((function(e){return p(t,n,e)}),[t,n,p]),b=Object(r.useState)(0),v=Object(i.a)(b,2),y=v[0],w=v[1];Object(u.c)((function(e){var t=e.clock;w(t.elapsedTime)}));var O=function(e,t,n,a){var o=Object(r.useState)(void 0),c=Object(i.a)(o,2),s=c[0],u=c[1];Object(r.useEffect)((function(){e&&0!==e.length&&u((function(t){return[].concat(Object(h.a)(t||[]),Object(h.a)(e))}))}),[e,t]);var l=Object(r.useMemo)((function(){if(!s||0===s.length)return[];var e=s[0];return n>=e.frame+t?s.filter((function(e){return n<e.frame+t})):s}),[s,t,n]),d=Object(r.useMemo)((function(){var e=[];if(!s||0===s.length)return e;var r=s[0];return n>=r.frame+t?s.filter((function(e){return n>=e.frame+t})):e}),[s,t,n]);return Object(r.useEffect)((function(){if(d&&0!==d.length){var e=Object(m.keyBy)(d,(function(e){return e.messageKey}));u((function(t){return(t||[]).filter((function(t){return!e[t.messageKey]}))}))}}),[d]),Object(r.useEffect)((function(){d&&0!==d.length&&a(d)}),[t,d,a]),l}(o,s,l,g),j=function(e){return Object(r.useMemo)((function(){return new d.CatmullRomCurve3(e,!1,"catmullrom")}),[e])}(c);return a.a.createElement(a.a.Fragment,null,a.a.createElement("mesh",{key:"".concat(t,"-").concat(n,"-edge")},a.a.createElement("tubeGeometry",{attach:"geometry",args:[j,80,.03,8,!1]}),a.a.createElement("meshPhongMaterial",{attach:"material",color:"#333"})),a.a.createElement(f,{key:"".concat(t,"-").concat(n,"-messages"),elapsed:y,prefix:"".concat(t,"-").concat(n,"-messages"),curve:j,duration:s,messages:O}))},g=n(30),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?1-(e/Math.abs(e)+1)/2:(e/Math.abs(e)+1)/2},v=function(e,t,n,r,a){var o=t[3*n+2]<0,c=b(t[3*n],o),i=b(t[3*n+1],!1),s=b(t[3*r],o),u=b(t[3*r+1],!1),l=b(t[3*a],o),m=b(t[3*a+1],!1);return[new d.Vector2(c,i),new d.Vector2(s,u),new d.Vector2(l,m)]},y=function(e,t,n,r,a,o){var c=e.parameters.options.depth,i=e.parameters.shapes.curves,s=i.reduce((function(e,t){return[Math.min(e[0],t.v1.x,t.v2.x),Math.max(e[1],t.v1.x,t.v2.x)]}),[Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER]),u=i.reduce((function(e,t){return[Math.min(e[0],t.v1.y,t.v2.y),Math.max(e[1],t.v1.y,t.v2.y)]}),[Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER]),l=[0,c],m=function(e,t){return(e-t[0])/(t[1]-t[0])},h=m(t[3*n],s),f=m(t[3*n+1],u),p=m(t[3*n+2],l),g=m(t[3*r],s),b=m(t[3*r+1],u),v=m(t[3*r+2],l),y=(m(t[3*a],s),m(t[3*a+1],u)),w=m(t[3*a+2],l),O=(m(t[3*o],s),m(t[3*o+1],u)),j=m(t[3*o+2],l);if(Math.abs(h-g)<.01){var E=function(e){return h>.5?1-e:e};return[new d.Vector2(E(p),f),new d.Vector2(E(v),b),new d.Vector2(E(w),y),new d.Vector2(E(j),O)]}return[new d.Vector2(0,0),new d.Vector2(0,0),new d.Vector2(0,0),new d.Vector2(0,0)]},w=Object(r.forwardRef)((function(e,t){var n=e.width,o=e.height,c=e.text,i=e.backgroundColor,s=e.color,u=e.depth,l=e.onClick,m=e.position,h=Object(g.a)(e,["width","height","text","backgroundColor","color","depth","onClick","position"]),f=n,p=o,b=c,w=Object(r.useMemo)((function(){var e=new d.Shape;return e.moveTo(f/2*-1,p/2*-1),e.lineTo(f/2,p/2*-1),e.lineTo(f/2,p/2),e.lineTo(f/2*-1,p/2),e.lineTo(f/2*-1,p/2*-1),e}),[f,p]),O=Object(r.useMemo)((function(){return{steps:2,depth:u,bevelEnabled:!0,bevelThickness:.03,bevelSize:.02,bevelOffset:0,bevelSegments:5,UVGenerator:{generateTopUV:v,generateSideWallUV:y}}}),[u]),j=Object(r.useMemo)((function(){var e=document.createElement("canvas"),t=e.getContext("2d");if(!t)return null;var n=20*f,r=20*p;e.style.position="absolute",e.style.top="calc(50% - ".concat(r/2,"px)"),e.style.width=n+"px",e.style.height=r+"px",e.width=20*n,e.height=20*r,t.scale(20,20),t.fillStyle=i||"grey",t.fillRect(0,0,n,r);var a=r/1.8;t.font="bold ".concat(a,"px Arial, sans-serif"),t.fillStyle=s||"white",t.textAlign="center",t.textBaseline="middle";var o=n/2,c=r/2;return t.fillText(b,o,c),e}),[f,p,s,i,b]),E=Object(r.useCallback)((function(){l({text:c})}),[c,l]);return a.a.createElement("mesh",Object.assign({ref:t,onClick:E,position:m},h),a.a.createElement("boxBufferGeometry",{args:[f,p,u],attach:"geometry"}),a.a.createElement("extrudeGeometry",{attach:"geometry",args:[w,O]}),a.a.createElement("meshStandardMaterial",{roughness:.2,metalness:.8,attachArray:"material"},a.a.createElement("canvasTexture",{attach:"map",image:j})),a.a.createElement("meshStandardMaterial",{roughness:.2,metalness:.8,attachArray:"material"},a.a.createElement("canvasTexture",{attach:"map",image:j})))}));function O(e){var t=Object(r.useState)(0),n=Object(i.a)(t,2),a=n[0],o=n[1];return Object(u.c)((function(e){var t=e.clock;o(Math.floor(100*t.elapsedTime)/100)})),a}w.defaultProps={depth:.04,width:1,height:.3,text:"<null>"};var j=function(e){var t=e.name,n=e.position,o=e.width,c=e.height,i=e.depth,s=e.onSelect,u=Object(r.useRef)(),l=Object(r.useCallback)((function(e){var t=e.text;return u.current&&s({name:t,mesh:u.current})}),[s]),m=Object(r.useMemo)((function(){return new d.Vector3(n.x,n.y,n.z-i/2)}),[n,i]);return a.a.createElement(w,{key:t,ref:u,onClick:l,text:t,color:"#202020",width:o,height:.25*c,backgroundColor:"#a0a0ff",depth:i,position:m})},E=function(e){var t=e.edges;return a.a.createElement(a.a.Fragment,null,t.map((function(e){return a.a.createElement(p,Object.assign({key:"".concat(e.fromNode,"-").concat(e.toNode,"-edge")},e))})))},k=function(e){var t=e.name,n=e.onSelect,r=e.width,o=e.height,c=e.depth,i=e.position,s=e.messages,u=e.edges,l=e.onEgress,m=x(u,t,s,O(),l);return a.a.createElement(a.a.Fragment,null,a.a.createElement(j,{key:"label",name:t,onSelect:n,width:r,height:o,depth:Math.abs(c),position:i}),a.a.createElement(E,{edges:m}))};function x(e,t,n,a,o){return Object(r.useMemo)((function(){return e.map((function(e){return Object(s.a)({},e,{duration:e.duration,fromNode:t,messages:n,elapsed:a,onEgress:o})}))}),[e,t,a,n,o])}function S(e,t,n){var a=n.damper,o=void 0===a?.72:a,c=n.spring,s=void 0===c?.003:c,l=Object(r.useState)({pos:{x:e.x,y:e.y,z:e.z},vel:{x:0,y:0,z:0}}),m=Object(i.a)(l,2),h=m[0],f=m[1],p=Object(r.useCallback)((function(){f((function(e){return{vel:{x:((t.x-e.pos.x)*s+e.vel.x)*o,y:((t.y-e.pos.y)*s+e.vel.y)*o,z:((t.z-e.pos.z)*s+e.vel.z)*o},pos:{x:e.pos.x+e.vel.x,y:e.pos.y+e.vel.y,z:e.pos.z+e.vel.z}}}))}),[t.x,t.y,t.z,o,s]);return Object(u.c)(p),new d.Vector3(h.pos.x,h.pos.y,h.pos.z)}var M=n(31);function C(e){var t=e.target,n=Object(r.useRef)(),o=Object(u.d)(),c=o.gl,i=o.camera;return Object(u.c)((function(){return n&&n.current&&n.current.update()})),a.a.createElement("orbitControls",{ref:n,args:[i,c.domElement],enableDamping:!0,target:t,dampingFactor:.1,rotateSpeed:.5})}Object(u.b)({OrbitControls:M.a});var V=function(e){var t=e.targetPosition,n=e.distance,r=e.orbit,o=function(e,t){var n=t.distance,r=t.rotate,a=t.orbit,o=Object(u.d)(),c=o.clock,i=o.camera,s=c.getElapsedTime()*((r||360)/56e3*(2*Math.PI))+Math.PI/2,l=n*Math.cos(s)+e.x,m=n*Math.sin(s)+e.z,h=new d.Vector3(l,e.y,m),f=S(new d.Vector3(0,0,10),h,{spring:.006,damper:.9}),p=S(new d.Vector3(0,0,0),e,{spring:.01,damper:.85});return a?p:(i.lookAt(p),i.position.set(f.x,f.y,f.z),f)}(t,{distance:n,orbit:r});return a.a.createElement(a.a.Fragment,null,a.a.createElement("perspectiveCamera",Object.assign({attach:"camera"},!r&&{position:o},{args:[45,2,1,100]})),r&&a.a.createElement(C,{target:o}))};function P(e,t,n,r){return new d.Vector3((e.x-t.x)*r,(e.y-t.y)*r,(e.z-t.z)*r-n*r/2)}function z(e,t,n,r,a){return P(e,new d.Vector3((t.width[1]+t.width[0])/2,(t.height[1]+t.height[0])/2,(t.depth[1]+t.depth[0])/2),t.depth[1]-t.depth[0],a)}function N(e){var t=Object(u.d)().viewport,n=e.width[1]-e.width[0],a=e.height[1]-e.height[0],o=e.depth[1]-e.depth[0];return Object(r.useMemo)((function(){var e=Math.max(n,a,o);return Math.min(t.height,t.width)/e}),[n,a,o,t.height,t.width])}var R=n(22),T=function(e){var t,n,o=e.options,c=o.drawFillShapes,i=o.fillShapesWireframe,s=o.drawStrokes,u=o.strokesWireframe,l=e.path,m=Object(r.useRef)(),h=Object(r.useRef)(),f=l.userData;return a.a.createElement(a.a.Fragment,null,c&&void 0!==f.style.fill&&"none"!==f.style.fill&&a.a.createElement("meshPhongMaterial",{ref:m,color:(new d.Color).setStyle(f.style.fill),opacity:f.style.fillOpacity,transparent:"0"===(null===(t=f.style.fillOpacity)||void 0===t?void 0:t.toString()),side:d.DoubleSide,depthWrite:!1,wireframe:i}),l.toShapes(!1).map((function(e,t){return a.a.createElement("mesh",{key:"shape-"+t},a.a.createElement("shapeBufferGeometry",{attach:"geometry",args:[e]}))})),s&&void 0!==f.style.stroke&&"none"!==f.style.stroke&&a.a.createElement("meshPhongMaterial",{ref:h,color:(new d.Color).setStyle(f.style.stroke),opacity:f.style.strokeOpacity,transparent:f.style.strokeOpacity<1,side:d.DoubleSide,depthWrite:!1,wireframe:u}),null===(n=l.subPaths)||void 0===n?void 0:n.map((function(e,t){var n=R.a.pointsToStroke(null===e||void 0===e?void 0:e.getPoints(),f.style,8,5);return n&&h.current&&a.a.createElement("mesh",{key:"stroke-"+t,geometry:n,material:h.current})||null})))},A=function(e){var t=e.url,n=e.position,o=e.scale,c=e.drawStrokes,s=e.drawFillShapes,u=e.fillShapesWireframe,l=e.strokesWireframe,m=Object(r.useState)(null),d=Object(i.a)(m,2),h=d[0],f=d[1];return Object(r.useEffect)((function(){(new R.a).load(t,(function(e){f(e)}))}),[t,f]),a.a.createElement("group",{scale:[.002*o,.002*o,1],position:n.setX(n.x-.5*o)},h&&h.paths.map((function(e){return e&&a.a.createElement(T,{path:e,options:{drawFillShapes:s,drawStrokes:c,strokesWireframe:l,fillShapesWireframe:u}})})))};A.defaultProps={drawFillShapes:!0,drawStrokes:!0,fillShapesWireframe:!1,strokesWireframe:!1};var F=n(32),W=n.n(F),G=function(e){var t=e.name,n=e.onSelect,r=e.width,o=e.height,c=e.depth,i=e.position,s=e.messages,u=e.edges,l=e.onEgress,m=x(u,t,s,O(),l);return a.a.createElement(a.a.Fragment,null,a.a.createElement(A,{strokesWireframe:!1,fillShapesWireframe:!1,drawFillShapes:!0,drawStrokes:!0,url:W.a,scale:r,position:new d.Vector3(i.x,i.y+o/3,i.z)}),a.a.createElement(j,{key:"label",name:t,onSelect:n,width:r,height:o,depth:c,position:i}),a.a.createElement(E,{edges:m}))},I=function(e){var t=e.graph,n=e.onSelectNode,o=e.selectedNode,c=e.feed,h=e.orbit,f=Object(u.d)(),p=f.clock,g=f.viewport,b=Object(r.useState)({}),v=Object(i.a)(b,2),y=v[0],w=v[1],O=N(t);Object(r.useEffect)((function(){return w((function(e){return c.filter((function(e){return!!e.to})).reduce((function(t,n){var r;return Object(s.a)({},t,Object(l.a)({},n.to,{messages:n.messages.map((function(t,r){var a;return Object(s.a)({},t,{messageKey:"".concat(t.messageKey).concat(r+(e[n.to]&&(null===(a=e[n.to])||void 0===a?void 0:a.count)||0),") "),frame:p.getElapsedTime()+r/n.messages.length*5})})),count:((null===(r=e[n.to])||void 0===r?void 0:r.count)||0)+n.messages.length}))}),e)}))}),[c,w,p]);var j=function(e){var t=N(e),n=new d.Vector3((e.width[1]+e.width[0])/2,(e.height[1]+e.height[0])/2,(e.depth[1]+e.depth[0])/2);return Object(r.useMemo)((function(){var r=e.nodes.map((function(r){return{name:r.name,type:r.type,position:P(r.position,n,e.depth[1]-e.depth[0],t),width:r.width*t,height:r.height*t,depth:r.depth*t}})),a=e.edges.map((function(r){var a=r.points;return{from:r.from,to:r.to,points:a.map((function(r){return P(r,n,e.depth[1]-e.depth[0],t)}))}})),o=(e.width[1]-e.width[0])*t,c=(e.height[1]-e.height[0])*t;return{width:[-.5*o,.5*o],height:[.5*c,.5*c],nodes:r,edges:a,depth:[-15,-1]}}),[t,n,e])}(t),E=Object(r.useCallback)((function(e){n(e)}),[n]),x=Object(r.useCallback)((function(e,t,n){w((function(r){var a;return Object(s.a)({},r,(a={},Object(l.a)(a,e,Object(s.a)({},r[e]||{count:0},{messages:void 0})),Object(l.a)(a,t,Object(s.a)({},r[t]||{count:0},{messages:n.map((function(e){return Object(s.a)({},e,{frame:p.getElapsedTime()})}))})),a))}))}),[p]),S=Object(r.useMemo)((function(){return Object(m.groupBy)(j.edges,(function(e){return e.from}))}),[j]),M=Object(r.useMemo)((function(){return j.nodes.map((function(e){var t,n=(S[e.name]||[]).map((function(e){return{points:e.points,duration:5,fromNode:e.from,toNode:e.to,onEgress:x}}));return{position:e.position,name:e.name,type:e.type,onEgress:x,width:e.width,height:e.height,depth:e.depth,onSelect:E,messages:y[e.name]&&(null===(t=y[e.name])||void 0===t?void 0:t.messages)||void 0,edges:n}}))}),[j,E,y,x,S]),C=Object(r.useMemo)((function(){var e=j.nodes.findIndex((function(e){return e.name===o}));return e>=0?e:null}),[o,j]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(V,{orbit:h,targetPosition:null===C?z(new d.Vector3((t.width[0]+t.width[1])/2,(t.height[0]+t.height[1])/2,(t.depth[0]+t.depth[1])/2),t,g.width,g.height,O):new d.Vector3(M[C].position.x,M[C].position.y,M[C].position.z),distance:null===o?8:4.5}),M.map((function(e,t){return"broker"===e.type?a.a.createElement(G,Object.assign({key:e.name},e)):a.a.createElement(k,Object.assign({key:e.name},e))})))},Q=n(33),D=n.n(Q),B=n(34),K=n.n(B);var L=function(e){var t=e.pumpProducer,n=e.pumpValue,o=e.nodes,c=e.edges,s=e.orbit,l=Object(r.useState)(null),m=Object(i.a)(l,2),h=m[0],f=m[1],p=Object(r.useState)(null),g=Object(i.a)(p,2),b=g[0],v=g[1],y=function(e,t){return Object(r.useMemo)((function(){var n=D()(),r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var s=c.value;n.addNode(s.name,s)}}catch(M){a=!0,o=M}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}var u=!0,l=!1,m=void 0;try{for(var h,f=t[Symbol.iterator]();!(u=(h=f.next()).done);u=!0){var p=h.value;n.addLink(p.from,p.to,p)}}catch(M){l=!0,m=M}finally{try{u||null==f.return||f.return()}finally{if(l)throw m}}var g=K()(n,{gravity:-30}),b=!0,v=!1,y=void 0;try{for(var w,O=e[Symbol.iterator]();!(b=(w=O.next()).done);b=!0){var j=w.value;void 0===j.x&&void 0===j.y&&void 0===j.z||g.setNodePosition(j.name,-10*(j.x||10),j.y||500*Math.random(),j.z||0)}}catch(M){v=!0,y=M}finally{try{b||null==O.return||O.return()}finally{if(v)throw y}}for(var E=0;E<100;++E)g.step();var k=e.map((function(e){var t=g.getNodePosition(e.name),n=t.x,r=t.y,a=t.z;return{name:e.name,width:e.width,height:e.height,depth:e.depth,position:new d.Vector3(n,r,a),type:e.type||"basic"}})),x=t.map((function(e){var t,r,a=g.getNodePosition(e.from),o=g.getNodePosition(e.to),c=null===(t=n.getNode(e.from))||void 0===t?void 0:t.data,i=null===(r=n.getNode(e.to))||void 0===r?void 0:r.data,s=function(e,t,n){return(t-e)*n+e},u=function(e,t){return t?new d.Vector3(e.x+c.width/2,e.y,e.z):new d.Vector3(e.x-i.width/2,e.y,e.z)},l=new d.Vector3(s(a.x,o.x,.5),s(a.y,o.y,.5),s(a.z,o.z,.5)),m=u(new d.Vector3(a.x,a.y,a.z),!0),h=u(new d.Vector3(o.x,o.y,o.z),!1),f=new d.Vector3(m.x+c.width/2,s(m.y,h.y,.1),s(m.z,h.z,.1)),p=new d.Vector3(h.x-i.width/2,s(m.y,h.y,.9),s(m.z,h.z,.9));return{from:e.from,to:e.to,points:[m,f,l,p,h]}})),S=g.getGraphRect();return{nodes:k,edges:x,width:[S.x1,S.x2],height:[S.y1,S.y2],depth:[S.z1,S.z2]}}),[e,t])}(o,c),w=Object(r.useCallback)((function(e){var t=e.name,n=e.mesh;f(t),v(n)}),[f,v]),O=Object(r.useMemo)((function(){return n&&t&&n.map((function(e,t){return{messageKey:e}}))||[]}),[n,t]),j=Object(r.useRef)(),E=Object(r.useRef)(),k=Object(r.useRef)(),x=Object(r.useRef)(),S=Object(r.useRef)(),M=Object(r.useRef)(),C=Object(r.useRef)(),V=Object(r.useRef)();Object(r.useEffect)((function(){var e,t,n,r;b||(null===(e=j.current)||void 0===e||e.lookAt(new d.Vector3(0,0,0)),null===(t=E.current)||void 0===t||t.lookAt(new d.Vector3(0,0,0)),null===(n=k.current)||void 0===n||n.lookAt(new d.Vector3(0,0,0)),null===(r=x.current)||void 0===r||r.lookAt(new d.Vector3(0,0,0)));S.current&&S.current.update(),M.current&&M.current.update(),C.current&&C.current.update(),V.current&&V.current.update()}),[b,S,M,C,V]);var P=Object(r.useCallback)((function(e){return f(null)}),[f]);return a.a.createElement(u.a,{pixelRatio:window.devicePixelRatio,onClickCapture:P},a.a.createElement("ambientLight",{args:[16777215,1.9]}),a.a.createElement(a.a.Fragment,null,a.a.createElement("spotLight",Object.assign({ref:j},b&&{target:b},{intensity:1,position:[10,3,5],args:[16755370,.9]})),a.a.createElement("spotLight",Object.assign({ref:E,intensity:1},b&&{target:b},{position:[-10,0,5],args:[11206570,.9]})),a.a.createElement("spotLight",Object.assign({ref:k,intensity:1},b&&{target:b},{position:[-10,1,-15],args:[11184895,.7]})),a.a.createElement("spotLight",Object.assign({ref:x},b&&{target:b},{position:[10,0,-15],args:[16755455,.7]}))),a.a.createElement(I,{graph:y,feed:[{to:t,messages:O}],selectedNode:h,onSelectNode:w,orbit:s}))},_=n(23),X=n.n(_),U=n(35),J=function(e){var t=e.filename,n=Object(r.useState)(null),o=Object(i.a)(n,2),c=o[0],s=o[1],u=Object(r.useState)(null),l=Object(i.a)(u,2),m=l[0],d=l[1],h=Object(r.useRef)(null),f=Object(r.useCallback)((function(){function e(){return(e=Object(U.a)(X.a.mark((function e(){var t,n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0});case 3:return n=e.sent,h.current.srcObject=n,(r=new MediaRecorder(n,{mimeType:'video/webm;codecs="vp8,opus"'})).ondataavailable=function(e){return t.push(e.data)},r.onstop=function(){var e=new Blob(t,{type:t[0].type});s(URL.createObjectURL(e))},r.start(),d(r),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}h.current&&function(){e.apply(this,arguments)}()}),[h]),p=Object(r.useCallback)((function(){return m&&m.stop()}),[m]);return a.a.createElement("div",{style:{padding:2,backgroundColor:"#303030",width:120}},a.a.createElement("video",{style:{display:"hidden",width:1,height:1},ref:h}),c?a.a.createElement("a",{href:c,download:t+".webm"},"Click to Download"):m?a.a.createElement("button",{onClick:p},"Stop Recording"):a.a.createElement("button",{onClick:f},"Start Recording"))},$={width:20,height:15,depth:20},q=[Object(s.a)({name:"Producer #1"},$,{x:100}),Object(s.a)({name:"Producer #2"},$,{x:100}),Object(s.a)({name:"Producer #3"},$,{x:100}),Object(s.a)({name:"Message Queue",type:"broker"},$),Object(s.a)({name:"Consumer #1"},$,{x:-100}),Object(s.a)({name:"Consumer #2"},$,{x:-100}),Object(s.a)({name:"Consumer #3"},$,{x:-100}),Object(s.a)({name:"Consumer #4"},$,{x:-100}),Object(s.a)({name:"Out Queue"},$,{y:-300})],H=[{from:"Producer #1",to:"Message Queue",weight:2},{from:"Producer #2",to:"Message Queue",weight:2},{from:"Producer #3",to:"Message Queue",weight:2},{from:"Message Queue",to:"Consumer #1",weight:2},{from:"Message Queue",to:"Consumer #2",weight:2},{from:"Message Queue",to:"Consumer #3",weight:2},{from:"Message Queue",to:"Consumer #4",weight:2},{from:"Consumer #3",to:"Out Queue",weight:2}],Y={backgroundColor:"black",color:"#bbb",height:25,fontWeight:"bold",margin:5},Z=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(!1),s=Object(i.a)(c,2),u=s[0],l=s[1],m=Object(r.useCallback)((function(){return o({id:"Producer #1",v:["1X"]})}),[o]),d=Object(r.useCallback)((function(){return o({id:"Producer #2",v:["2X"]})}),[o]),h=Object(r.useCallback)((function(){return o({id:"Producer #3",v:["3X"]})}),[o]),f=Object(r.useCallback)((function(e){var t=e.target;console.log("Checked "+t.checked),l(t.checked)}),[l]);return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("div",null,"DAG 3D Component"),a.a.createElement("button",{style:Y,onClick:m},"Pump Producer #1"),a.a.createElement("button",{style:Y,onClick:d},"Pump Producer #2"),a.a.createElement("button",{style:Y,onClick:h},"Pump Producer #3"),a.a.createElement("label",{className:"switch",style:{margin:3}},a.a.createElement("input",{className:"switch-input",type:"checkbox",checked:u,onChange:f}),a.a.createElement("span",{className:"switch-label","data-on":"Pan","data-off":"Auto"}),a.a.createElement("span",{className:"switch-handle"})),a.a.createElement("div",null,a.a.createElement(J,{filename:"dag3d"}))),a.a.createElement(L,{pumpProducer:n&&n.id||null,pumpValue:n&&n.v,nodes:q,edges:H,orbit:u}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.731a85f5.chunk.js.map